"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.TypeBoxValidatorCompiler = void 0;
const compiler_1 = require("@sinclair/typebox/compiler");
const TypeBoxValidatorCompiler = ({ schema }) => {
    const typeCheck = compiler_1.TypeCompiler.Compile(schema);
    return (value) => {
        if (typeCheck.Check(value))
            return;
        const errors = [...typeCheck.Errors(value)];
        return {
            error: errors.map((error) => ({
                message: `${error.message}`,
                instancePath: error.path
            }))
        };
    };
};
exports.TypeBoxValidatorCompiler = TypeBoxValidatorCompiler;
